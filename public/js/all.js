!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,n,r,i,o,a,s="Close",l="BeforeClose",u="AfterClose",c="BeforeAppend",f="MarkupParse",p="Open",d="Change",m="mfp",g="."+m,v="mfp-ready",h="mfp-removing",y="mfp-prevent-close",b=function(){},w=!!window.jQuery,C=e(window),x=function(e,n){t.ev.on(m+e+g,n)},T=function(t,n,r,i){var o=document.createElement("div");return o.className="mfp-"+t,r&&(o.innerHTML=r),i?n&&n.appendChild(o):(o=e(o),n&&o.appendTo(n)),o},I=function(n,r){t.ev.triggerHandler(m+n,r),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(r)?r:[r]))},E=function(n){return n===a&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),a=n),t.currTemplate.closeBtn},O=function(){e.magnificPopup.instance||(t=new b,t.init(),e.magnificPopup.instance=t)},S=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};b.prototype={constructor:b,init:function(){var n=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=S(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=e(document),t.popupsCache={}},open:function(n){var i;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var a,s=n.items;for(i=0;i<s.length;i++)if(a=s[i],a.parsed&&(a=a.el[0]),a===n.el[0]){t.index=i;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],o="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=r,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=T("bg").on("click"+g,function(){t.close()}),t.wrap=T("wrap").attr("tabindex",-1).on("click"+g,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=T("container",t.wrap)),t.contentContainer=T("content"),t.st.preloader&&(t.preloader=T("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(i=0;i<l.length;i++){var u=l[i];u=u.charAt(0).toUpperCase()+u.slice(1),t["init"+u].call(t)}I("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(x(f,function(e,t,n,r){n.close_replaceWith=E(r.type)}),o+=" mfp-close-btn-in"):t.wrap.append(E())),t.st.alignTop&&(o+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:C.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:r.height(),position:"absolute"}),t.st.enableEscapeKey&&r.on("keyup"+g,function(e){27===e.keyCode&&t.close()}),C.on("resize"+g,function(){t.updateSize()}),t.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&t.wrap.addClass(o);var c=t.wH=C.height(),d={};if(t.fixedContentPos&&t._hasScrollBar(c)){var m=t._getScrollbarSize();m&&(d.marginRight=m)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):d.overflow="hidden");var h=t.st.mainClass;return t.isIE7&&(h+=" mfp-ie7"),h&&t._addClassToMFP(h),t.updateItemHTML(),I("BuildControls"),e("html").css(d),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),r.on("focusin"+g,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(c),I(p),n},close:function(){t.isOpen&&(I(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(h),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){I(s);var n=h+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}r.off("keyup"+g+" focusin"+g),t.ev.off(g),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,I(u)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,r=window.innerHeight*n;t.wrap.css("height",r),t.wH=r}else t.wH=e||C.height();t.fixedContentPos||t.wrap.css("height",t.wH),I("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var r=n.type;if(I("BeforeChange",[t.currItem?t.currItem.type:"",r]),t.currItem=n,!t.currTemplate[r]){var o=t.st[r]?t.st[r].markup:!1;I("FirstMarkupParse",o),o?t.currTemplate[r]=e(o):t.currTemplate[r]=!0}i&&i!==n.type&&t.container.removeClass("mfp-"+i+"-holder");var a=t["get"+r.charAt(0).toUpperCase()+r.slice(1)](n,t.currTemplate[r]);t.appendContent(a,r),n.preloaded=!0,I(d,n),i=n.type,t.container.prepend(t.contentContainer),I("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(E()):t.content=e:t.content="",I(c),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var r,i=t.items[n];if(i.tagName?i={el:e(i)}:(r=i.type,i={data:i,src:i.src}),i.el){for(var o=t.types,a=0;a<o.length;a++)if(i.el.hasClass("mfp-"+o[a])){r=o[a];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=r||t.st.type||"inline",i.index=n,i.parsed=!0,t.items[n]=i,I("ElementParse",i),t.items[n]},addGroup:function(e,n){var r=function(r){r.mfpEl=this,t._openClick(r,e,n)};n||(n={});var i="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(i).on(i,r)):(n.isObj=!1,n.delegate?e.off(i).on(i,n.delegate,r):(n.items=e,e.off(i).on(i,r)))},_openClick:function(n,r,i){var o=void 0!==i.midClick?i.midClick:e.magnificPopup.defaults.midClick;if(o||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var a=void 0!==i.disableOn?i.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(C.width()<a)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),i.el=e(n.mfpEl),i.delegate&&(i.items=r.find(i.delegate)),t.open(i)}},updateStatus:function(e,r){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),r||"loading"!==e||(r=t.st.tLoading);var i={status:e,text:r};I("UpdateStatus",i),e=i.status,r=i.text,t.preloader.html(r),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(y)){var r=t.st.closeOnContentClick,i=t.st.closeOnBgClick;if(r&&i)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(r)return!0}else if(i&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?r.height():document.body.scrollHeight)>(e||C.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,r){var i;r.data&&(n=e.extend(r.data,n)),I(f,[t,n,r]),e.each(n,function(n,r){if(void 0===r||r===!1)return!0;if(i=n.split("_"),i.length>1){var o=t.find(g+"-"+i[0]);if(o.length>0){var a=i[1];"replaceWith"===a?o[0]!==r[0]&&o.replaceWith(r):"img"===a?o.is("img")?o.attr("src",r):o.replaceWith(e("<img>").attr("src",r).attr("class",o.attr("class"))):o.attr(i[1],r)}}else t.find(g+"-"+n).html(r)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:b.prototype,modules:[],open:function(t,n){return O(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(n){O();var r=e(this);if("string"==typeof n)if("open"===n){var i,o=w?r.data("magnificPopup"):r[0].magnificPopup,a=parseInt(arguments[1],10)||0;o.items?i=o.items[a]:(i=r,o.delegate&&(i=i.find(o.delegate)),i=i.eq(a)),t._openClick({mfpEl:i},r,o)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),w?r.data("magnificPopup",n):r[0].magnificPopup=n,t.addGroup(r,n);return r};var A,k,F,D="inline",P=function(){F&&(k.after(F.addClass(A)).detach(),F=null)};e.magnificPopup.registerModule(D,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(D),x(s+"."+D,function(){P()})},getInline:function(n,r){if(P(),n.src){var i=t.st.inline,o=e(n.src);if(o.length){var a=o[0].parentNode;a&&a.tagName&&(k||(A=i.hiddenClass,k=T(A),A="mfp-"+A),F=o.after(k).detach().removeClass(A)),t.updateStatus("ready")}else t.updateStatus("error",i.tNotFound),o=e("<div>");return n.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(r,{},n),r}}});var M,j="ajax",z=function(){M&&e(document.body).removeClass(M)},_=function(){z(),t.req&&t.req.abort()};e.magnificPopup.registerModule(j,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(j),M=t.st.ajax.cursor,x(s+"."+j,_),x("BeforeChange."+j,_)},getAjax:function(n){M&&e(document.body).addClass(M),t.updateStatus("loading");var r=e.extend({url:n.src,success:function(r,i,o){var a={data:r,xhr:o};I("ParseAjax",a),t.appendContent(e(a.data),j),n.finished=!0,z(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),I("AjaxContentAdded")},error:function(){z(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(r),""}}});var L,H=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var r=t.st.image.titleSrc;if(r){if(e.isFunction(r))return r.call(t,n);if(n.el)return n.el.attr(r)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=t.st.image,r=".image";t.types.push("image"),x(p+r,function(){"image"===t.currItem.type&&n.cursor&&e(document.body).addClass(n.cursor)}),x(s+r,function(){n.cursor&&e(document.body).removeClass(n.cursor),C.off("resize"+g)}),x("Resize"+r,t.resizeImage),t.isLowIE&&x("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,L&&clearInterval(L),e.isCheckingImgSize=!1,I("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,r=e.img[0],i=function(o){L&&clearInterval(L),L=setInterval(function(){return r.naturalWidth>0?void t._onImageHasSize(e):(n>200&&clearInterval(L),n++,void(3===n?i(10):40===n?i(50):100===n&&i(500)))},o)};i(1)},getImage:function(n,r){var i=0,o=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,I("ImageLoadComplete")):(i++,200>i?setTimeout(o,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,l=r.find(".mfp-img");if(l.length){var u=document.createElement("img");u.className="mfp-img",n.el&&n.el.find("img").length&&(u.alt=n.el.find("img").attr("alt")),n.img=e(u).on("load.mfploader",o).on("error.mfploader",a),u.src=n.src,l.is("img")&&(n.img=n.img.clone()),u=n.img[0],u.naturalWidth>0?n.hasSize=!0:u.width||(n.hasSize=!1)}return t._parseMarkup(r,{title:H(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(L&&clearInterval(L),n.loadError?(r.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(r.removeClass("mfp-loading"),t.updateStatus("ready")),r):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,r.addClass("mfp-loading"),t.findImageSize(n)),r)}}});var R,B=function(){return void 0===R&&(R=void 0!==document.createElement("p").style.MozTransform),R};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,r=".zoom";if(n.enabled&&t.supportsTransition){var i,o,a=n.duration,u=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+n.duration/1e3+"s "+n.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return i["-webkit-"+o]=i["-moz-"+o]=i["-o-"+o]=i[o]=r,t.css(i),t},c=function(){t.content.css("visibility","visible")};x("BuildControls"+r,function(){if(t._allowZoom()){if(clearTimeout(i),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void c();o=u(e),o.css(t._getOffset()),t.wrap.append(o),i=setTimeout(function(){o.css(t._getOffset(!0)),i=setTimeout(function(){c(),setTimeout(function(){o.remove(),e=o=null,I("ZoomAnimationEnded")},16)},a)},16)}}),x(l+r,function(){if(t._allowZoom()){if(clearTimeout(i),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;o=u(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),x(s+r,function(){t._allowZoom()&&(c(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var r;r=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var i=r.offset(),o=parseInt(r.css("padding-top"),10),a=parseInt(r.css("padding-bottom"),10);i.top-=e(window).scrollTop()-o;var s={width:r.width(),height:(w?r.innerHeight():r[0].offsetHeight)-a-o};return B()?s["-moz-transform"]=s.transform="translate("+i.left+"px,"+i.top+"px)":(s.left=i.left,s.top=i.top),s}}});var N="iframe",X="//about:blank",q=function(e){if(t.currTemplate[N]){var n=t.currTemplate[N].find("iframe");n.length&&(e||(n[0].src=X),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(N,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(N),x("BeforeChange",function(e,t,n){t!==n&&(t===N?q():n===N&&q(!0))}),x(s+"."+N,function(){q()})},getIframe:function(n,r){var i=n.src,o=t.st.iframe;e.each(o.patterns,function(){return i.indexOf(this.index)>-1?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var a={};return o.srcAction&&(a[o.srcAction]=i),t._parseMarkup(r,a,n),t.updateStatus("ready"),r}}});var W=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},U=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery";return t.direction=!0,n&&n.enabled?(o+=" mfp-gallery",x(p+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),r.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),x("UpdateStatus"+i,function(e,n){n.text&&(n.text=U(n.text,t.currItem.index,t.items.length))}),x(f+i,function(e,r,i,o){var a=t.items.length;i.counter=a>1?U(n.tCounter,o.index,a):""}),x("BuildControls"+i,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var r=n.arrowMarkup,i=t.arrowLeft=e(r.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(y),o=t.arrowRight=e(r.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(y);i.click(function(){t.prev()}),o.click(function(){t.next()}),t.container.append(i.add(o))}}),x(d+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void x(s+i,function(){r.off(i),t.wrap.off("click"+i),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=W(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=W(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,r=Math.min(n[0],t.items.length),i=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?i:r);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?r:i);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=W(n),!t.items[n].preloaded){var r=t.items[n];r.parsed||(r=t.parseEl(n)),I("LazyLoad",r),"image"===r.type&&(r.img=e('<img class="mfp-img" />').on("load.mfploader",function(){r.hasSize=!0}).on("error.mfploader",function(){r.hasSize=!0,r.loadError=!0,I("LazyLoadError",r)}).attr("src",r.src)),r.preloaded=!0}}}});var $="retina";e.magnificPopup.registerModule($,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(x("ImageHasSize."+$,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),x("ElementParse."+$,function(t,r){r.src=e.replaceSrc(r,n)}))}}}}),O()}),window.fd=window.fd||{},function(t,n){t.randomID=function(e){return(e||"fd")+"_"+(1e4*Math.random()).toFixed()},t.uniqueID=function(e){do var n=t.randomID(e);while(t.byID(n));return n},t.byID=function(e){return t.isTag(e)?e:document.getElementById(e)},t.isTag=function(e,t){return"object"==typeof e&&e&&1==e.nodeType&&(!t||e.tagName.toUpperCase()==t.toUpperCase())},t.newXHR=function(){try{return new XMLHttpRequest}catch(e){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++)try{return new ActiveXObject(t[n])}catch(e){}}throw"Cannot create XMLHttpRequest."},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.toArray=function(e,n){return null===e||"undefined"==typeof e?[]:(t.isArray(e)||"object"==typeof e&&"callee"in e||(e=[e]),Array.prototype.slice.call(e,n||0))},t.addEvent=function(e,t,n){return e&&t&&n&&(e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e.addEventListener(t,n,!1)),e},t.stopEvent=function(e){return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e},t.setClass=function(e,n,r){return(e=t.byID(e))&&null!=n&&("undefined"==typeof r||r?t.hasClass(e,n)||(e.className+=" "+n):e.className=e.className.replace(t.classRegExp(n)," ")),e},t.hasClass=function(e,n){return t.classRegExp(n).test((t.byID(e)||{}).className)},t.classRegExp=function(e){return""==e||"object"==typeof e?/$o_O/:new RegExp("(^|\\s+)"+e+"(\\s+|$)","gi")},t.extend=function(e,t,n){e=e||{},t=t||{};for(var r in t)(n||"undefined"==typeof e[r])&&(e[r]=t[r]);return e},t.callAll=function(e,n,r){var i;if(n=t.toArray(n),"function"==typeof e&&(e=[e]),t.isArray(e))for(var o=0;o<e.length&&("function"!=typeof e[o]||(i=e[o].apply(r||this,n),null==i));o++);else if(e)throw"FileDrop event list must be either an Array, Function, undefined or null but "+typeof e+" was given.";return i},t.callAllOfObject=function(e,n,r){if(t.logging&&t.hasConsole){e.events[n]?e.events[n].length||0:0}var i=[t.onObjectCall].concat(e.events.any),o=t.callAll(i,[n].concat(t.toArray(r)),e);return null!=o?o:t.callAll(e.events[n],r,e)},t.appendEventsToObject=function(e,n){if(t.addEventsToObject(this,!1,arguments))return this;switch(arguments.length){case 0:return t.extend({},this.events);case 1:if(null===e)return this.events={},this;if(t.isArray(e)){for(var r={},i=0;i<e.length;i++)r[e[i]]=t.toArray(this.events[e[i]]);return r}if("function"==typeof e)return t.funcNS(e);if("string"==typeof e)return t.toArray(this.events[e]);case 2:if(e=t.toArray(e),null===n){for(var i=0;i<e.length;i++){var o=t.splitNS(e[i]);if(o[0])if(o[1]){if(this.events[o[0]])for(var a=this.events[o[0]].length-1;a>=0;a--)t.funcNS(this.events[o[0]][a])==o[1]&&this.events[o[0]].splice(a,1)}else this.events[o[0]]=[];else for(var s in this.events)arguments.callee.call(this,[s+":"+o[1]],null)}return this}}throw"Bad parameters for FileDrop event()."},t.previewToObject=function(e,n){if(t.addEventsToObject(this,!0,arguments))return this;throw"Bad parameters for FileDrop preview()."},t.addEventsToObject=function(e,n,r){var i=r[0],o=r[1];switch(r.length){case 1:if(i&&"object"==typeof i&&!t.isArray(i)){for(var a in i)arguments.callee(e,n,[a,i[a]]);return!0}case 2:if("function"==typeof o||t.isArray(o)){i=t.toArray(i),o=t.toArray(o);for(var s=n?"unshift":"push",l=0;l<i.length;l++){for(var u=t.splitNS(i[l]),c=0;c<o.length;c++)t.funcNS(o[c],u[1]);e.events[u[0]]=e.events[u[0]]||[],e.events[u[0]][s].apply(e.events[u[0]],o)}return!0}}},t.funcNS=function(e,n){return"function"!=typeof e?e:1==arguments.length?(e[t.nsProp]||"").toString():(e[t.nsProp]=(n||"").toString(),e)},t.splitNS=function(e){return(e||"").match(/^([^:]*):?(.*)$/).slice(1)},t.extend(t,{logging:!0,hasConsole:"console"in window&&console.log&&console.dir,onObjectCall:null,all:[],isIE6:!1,isIE9:!1,isChrome:-1!=(navigator.vendor||"").indexOf("Google"),nsProp:"_fdns"}),t.DropHandle=function(e,n){var r=this;if(r.el=e=t.byID(e),!e)throw"Cannot locate DOM node given to new FileDrop class.";r.opt={zoneClass:"fd-zone",inputClass:"fd-file",iframe:{url:"",callbackParam:"fd-callback",fileParam:"fd-file"},input:null,recreateInput:!0,fullDocDragDetect:!1,multiple:!1,dropEffect:"copy"},t.all.push(r),r.filedrop=null;var i=r.opt.iframe;t.extend(r.opt,n,!0),t.extend(r.opt.iframe,i),t.isChrome&&(r.opt.fullDocDragDetect=!0),r.events={any:[],dragEnter:[],dragLeave:[],dragOver:[],dragEnd:[],dragExit:[],upload:[],uploadElsewhere:[],inputSetup:[],iframeSetup:[],iframeDone:[]},r.on=r.events,r.zone=r.el,r.hook=function(e){0!=r.opt.input&&(r.opt.input=r.opt.input||r.prepareInput(e),r.opt.input&&t.callAllOfObject(r,"inputSetup",r.opt.input)),r.hookDragOn(e),r.hookDropOn(e)},r.hookDragOn=function(e){r.opt.fullDocDragDetect?(r.delegate(document.body,"dragEnter"),t.addEvent(document,"dragleave",function(e){(0==e.clientX&&0==e.clientY||t.isTag(e.relatedTarget,"html"))&&(t.stopEvent(e),t.callAllOfObject(r,"dragLeave",e))})):(r.delegate(e,"dragEnter"),r.delegate(e,"dragLeave")),r.delegate(e,"dragOver"),r.delegate(e,"dragEnd"),r.delegate(e,"dragExit")},r.hookDropOn=function(e){t.isIE9||r.delegate(e,"drop","upload")},r.delegate=function(e,n,i){t.addEvent(e,n.toLowerCase(),function(e){t.stopEvent(e),t.callAllOfObject(r,i||n,e)})},r.prepareInput=function(e){var n=r.findInputRecursive(e)||r.createInputAt(e);if(n){for(var i=n.parentNode;i&&!t.isTag(i,"form");)i=i.parentNode;if(!i)throw"FileDrop file input has no parent form element.";var o=i?i.getAttribute("target"):"";if(o&&t.isTag(t.byID(o),"iframe"))return{file:n,form:i}}return!1},r.findInputRecursive=function(e){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(t.isTag(i,"input")&&"file"==i.getAttribute("type")&&t.hasClass(i,r.opt.inputClass))return i;if(i=arguments.callee(i))return i}},r.createInputAt=function(e){do var n=t.randomID();while(t.byID(n));var i=document.createElement("div");i.innerHTML='<iframe src="javascript:false" name="'+n+'"></iframe><form method="post" enctype="multipart/form-data"><input type="hidden" name="'+r.opt.iframe.callbackParam+'" /><input type="file" name="'+r.opt.iframe.fileParam+'" /></form>',i.firstChild.setAttribute("id",n),i.firstChild.style.display="none",i.lastChild.setAttribute("target",n);for(var o=e.firstChild;o&&(!t.isTag(o)||t.isTag(o,"legend"));)o=o.nextSibling;return o?e.insertBefore(i,o):e.appendChild(i),i.lastChild.lastChild},r.abortIFrame=function(){if(r.opt.input.form){var e=t.byID(r.opt.input.form.getAttribute("target"));e&&e.setAttribute("src","javascript:false")}},r.sendViaIFrame=function(e){e=e||r.opt.iframe.url;var n=(r.opt.input||{}).form;if(e&&n){do var i=t.randomID();while(i in window);window[i]=function(n){"object"!=typeof n&&(n={response:n,responseXML:"",responseText:(n||"").toString(),readyState:4,status:200,statusText:"OK",getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},setRequestHeader:function(){return this},statusCode:function(){return this},abort:function(){return this}}),t.extend(n,{iframe:!0,url:e}),t.callAllOfObject(r,"iframeDone",n)};for(var o=n.firstChild;o&&(!t.isTag(o,"input")||o.name!=r.opt.iframe.callbackParam);)o=o.nextSibling;return o?o.value=i:e=e.replace(/[?&]+$/,"")+(-1==e.indexOf("?")?"?":"&")+r.opt.iframe.callbackParam+"="+i,n.setAttribute("action",e),t.callAllOfObject(r,"iframeSetup",n),n.submit(),setTimeout(r.resetForm,300),!0}},r.resetForm=function(){var e=r.opt.input&&r.opt.input.file;if(e&&(e.value="",r.opt.recreateInput)){var n=r.opt.input.file=e.cloneNode(!0);e.parentNode.replaceChild(n,e),t.callAllOfObject(r,"inputSetup",[r.opt.input,e])}},r.multiple=function(e){return r.opt.input&&"undefined"!=typeof e&&(e?r.opt.input.file.setAttribute("multiple","multiple"):r.opt.input.file.removeAttribute("multiple")),r.opt.input&&!!r.opt.input.file.getAttribute("multiple")},r.event=function(e,n){return t.appendEventsToObject.apply(r,arguments)},r.preview=function(e,n){return t.previewToObject.apply(r,arguments)},r.onInputSetup=function(n,i){i?(n.file.clearAttributes&&n.file.clearAttributes(),n.file.mergeAttributes&&n.file.mergeAttributes(i)):r.multiple(r.opt.multiple),t.setClass(n.file,r.opt.inputClass),r.delegate(n.file,"change","upload");var o=n.file.parentNode;if(o&&o.style.display.match(/^(static)?$/)&&(o.style.position="relative"),t.isTag(e,"fieldset")){var a=document.createElement("div");a.style.position="relative",a.style.overflow="hidden",e.parentNode.insertBefore(a,e),a.appendChild(e)}},r.onDragOver=function(e){t.stopEvent(e),e.dataTransfer&&(e.dataTransfer.dropEffect=r.opt.dropEffect)},r.onUpload=function(){for(var e=0;e<t.all.length;e++)t.all[e]!==r&&t.all[e].events&&t.callAllOfObject(t.all[e],"uploadElsewhere",r)},r.event({inputSetup:r.onInputSetup,dragOver:r.onDragOver,upload:r.onUpload}),t.setClass(e,r.opt.zoneClass),r.hook(e)},t.FileDrop=function(e,n){function r(n){return function(){t.setClass(e,i.opt.dragOverClass,n)}}var i=this;e=t.byID(e),i.handle=new t.DropHandle(e,n),i.handle.filedrop=i,t.extend(i.handle.opt,{dragOverClass:"over"}),t.extend(i.handle.opt.iframe,{force:!1}),t.extend(i.handle.events,{send:[],fileSetup:[]}),i.onUpload=function(e){var n=!i.opt.iframe.force&&i.eventFiles(e,!0);n?n.length>0&&t.callAllOfObject(i,"send",[n]):!i.handle.sendViaIFrame()&&t.hasConsole},i.eventFiles=function(e,n){var r=new t.FileList(e);if(e.dataTransfer&&(e.dataTransfer.length||e.dataTransfer.files))var o=e.dataTransfer;else var o=e.target&&e.target.files||e.srcElement&&e.srcElement.files;if(o){var a=o.items||[];o.files&&(o=o.files);for(var s={},l=0;l<o.length;l++){var u=new t.File(o[l]);s[u.name]&&"image.jpg"!=u.name||(s[u.name]=!0,u.setNativeEntry(a[l]),t.callAllOfObject(i,"fileSetup",u),(u.size>0||u.nativeEntry)&&r.push(u))}}else n&&(r=!1);return r},t.extend(i,i.handle),i.event({upload:i.onUpload,send:i.resetForm,dragEnter:r(!0),dragLeave:r(!1),uploadElsewhere:r(!1)}),i.preview({upload:r(!1)})},t.FileList=function(e){var n=this;n.dropEffect=e&&e.dropEffect||"",n.length=0,e=null,n.push=function(e){return n[n.length++]=e,n},n.pop=function(){if(n.length>0){var e=n.last();return delete n[--n.length],e}},n.first=function(){return n[0]},n.last=function(){return n[n.length-1]},n.remove=function(e){for(;e<n.length-1;e++)n[e]=n[e+1];return se.f.pop(),n},n.clear=function(){for(var e=0;e<n.length;e++)delete n[e];return n.length=0,n},n.reverse=function(){for(var e=0;e<Math.floor(n.length/2);e++)n[e]=n[n.length-e-1];return n},n.concat=function(e){for(var r=new t.FileList,i=0;i<n.length;i++)r[i]=n[i];for(var i=0;e&&i<e.length;i++)r[n.length+i+1]=e[i];return r.length=n.length+(e||[]).length,n},n.sort=function(e,t){for(var r=0;r<n.length;r++)for(var i=0;i<n.length;i++)if(e.call(t||this,n[r],n[i],r,i)<0){var o=n[r];n[r]=n[i],n[i]=o}return n},n.sortBy=function(e,t){for(var r=[],i=0;i<n.length;i++)r.push([i,e.call(t||this,n[i],i)]);r.sort(function(e,t){return e[1]>t[1]?1:e[1]<t[1]?-1:0});for(var i=0;i<r.length;i++)n[i]=r[i][0];return n},n.find=function(e,t){for(var r=0;r<n.length;r++){var i=e.call(t||this,n[r],r);if(null!=i)return n[r]}},n.each=function(e,t){return n.find(function(){e.apply(this,arguments)},t),n},n.invoke=function(e,n){var r=t.toArray(arguments,1);return this.each(function(t){t[e].apply(t,r)})},n.abort=function(){return this.invoke("abort")},n.findCompare=function(e,t){var r,i,o=null;return n.each(function(n){(null==o||o<(i=e.call(t,r)))&&(r=n)},t),r},n.filter=function(e,r){var i=new t.FileList;return n.each(function(t){e.apply(this,arguments)&&i.push(t)},r),i},n.largest=function(){return n.findCompare(function(e){return e.size})},n.smallest=function(){return n.findCompare(function(e){return-e.size})},n.oldest=function(){return n.findCompare(function(e){return-e.modDate.getTime()})},n.newest=function(){return n.findCompare(function(e){return e.modDate})},n.ofType=function(e){
return e+=-1==e.indexOf("/")?"/":"$",e=new RegExp("^"+e,"i"),n.filter(function(t){return e.test(t.type)})},n.images=function(){return n.ofType("image")},n.named=function(e){return"string"==typeof e?n.find(function(t){return t.name==e}):n.filter(function(t){return e.test(t.name)})}},t.FileList.prototype.length=0,t.FileList.prototype.splice=Array.prototype.splice,t.File=function(n){var r=this;r.nativeFile=n,r.nativeEntry=null,r.name=n.fileName||n.name||"",r.size=n.fileSize||n.size||0,r.type=r.mime=n.fileType||n.type||"",r.modDate=n.lastModifiedDate||new Date,r.xhr=null,r.opt={extraHeaders:!0,xRequestedWith:!0,method:"POST"},r.events={any:[],xhrSetup:[],xhrSend:[],progress:[],done:[],error:[]},r.events.sendXHR=r.events.xhrSend,r.abort=function(){return r.xhr&&r.xhr.abort&&r.xhr.abort(),r},r.sendTo=function(e,n){if(n=t.extend(n,r.opt),n.url=e,r.size)if(window.FileReader){var i=new FileReader;i.onload=function(e){r.sendDataReadyTo(n,e)},i.onerror=function(e){t.callAllOfObject(r,"error",[e])},i.readAsArrayBuffer(r.nativeFile)}else r.sendDataReadyTo(n);else t.hasConsole&&void 0;return r},r.sendDataReadyTo=function(e,n){if(r.abort(),r.xhr=t.newXHR(),r.hookXHR(r.xhr),r.xhr.open(e.method,e.url,!0),r.xhr.overrideMimeType&&r.xhr.overrideMimeType("application/octet-stream"),r.xhr.setRequestHeader("Content-Type","application/octet-stream"),e.extraHeaders){r.xhr.setRequestHeader("X-File-Name",encodeURIComponent(r.name)),r.xhr.setRequestHeader("X-File-Size",r.size),r.xhr.setRequestHeader("X-File-Type",r.type),r.xhr.setRequestHeader("X-File-Date",r.modDate.toGMTString());var i=e.xRequestedWith;if(i===!0){var o=window.FileReader?"FileAPI":"Webkit";i="FileDrop-XHR-"+o}i&&r.xhr.setRequestHeader("X-Requested-With",i)}t.callAllOfObject(r,"xhrSetup",[r.xhr,e]);var a=n&&n.target&&n.target.result?n.target.result:r.nativeFile;return t.callAllOfObject(r,"xhrSend",[r.xhr,a,e]),r.xhr},r.hookXHR=function(e){var n=e.upload||e;e.onreadystatechange=function(n){if(4==e.readyState){try{var i=200==e.status?"done":"error"}catch(n){var i="error"}var o="error"==i?[n,e]:[e,n];t.callAllOfObject(r,i,o)}},n.onprogress=function(n){var i=n.lengthComputable?n.loaded:null;t.callAllOfObject(r,"progress",[i,n.total||null,e,n])}},r.readData=function(e,t,n){return r.read({onDone:e,onError:t,func:n})},r.readDataURL=function(e,t){return r.readData(e,t||!1,"uri")},r.readDataURI=r.readDataURL,r.read=function(n){function i(e,t){"object"==typeof t||(t.message=t),t.fdError=e,n.onError!==!1&&(n.onError||n.onDone).apply(this,arguments)}if(t.extend(n,{onDone:new Function,onError:null,blob:r.nativeFile,func:"",start:0,end:null,mime:""}),!window.FileReader)return i("support",e);(n.start>0||null!=n.end&&n.end)&&(n.blob.slice?(null==n.end&&(n.end=n.blob.size||n.blob.fileSize),n.blob=n.blob.slice(n.start,n.end,n.mime)):t.hasConsole);var o=new FileReader;o.onerror=function(e){i("read",e)},o.onload=function(e){e.target&&e.target.result?("readAsBinaryString"==n.func&&(e.target.result=String.fromCharCode.apply(null,new Uint8Array(e.target.result))),n.onDone(e.target.result)):o.onerror(e)};var a=n.func;if(t.isArray(a)){var s=a[0];return a[0]=n.blob,o[s].apply(o,a)}if(a&&"bin"!=a){if("url"==a||"uri"==a||"src"==a)a="readAsDataURL";else if("array"==a)a="readAsArrayBuffer";else if("text"==a)a="readAsText";else if("read"!=a.substr(0,4))return o.readAsText(n.blob,a)}else a="readAsBinaryString";return"readAsBinaryString"==a&&(a="readAsArrayBuffer"),o[a](n.blob)},r.listEntries=function(e,n){function i(t){s-=t,0==s&&e&&(e(a),e=null)}if(r.nativeEntry&&r.nativeEntry.isDirectory){n=n||new Function;var o=r.nativeEntry.createReader(),a=new t.FileList,s=0;return o.readEntries(function(e){for(var r=0;r<e.length;r++){var l=e[r];l.file?(s++,l.file(function(e){var n=new t.File(e);n.setNativeEntry(l),a.push(n),i(1)},function(){a.push(t.File.fromEntry(l)),i(1),n.apply(this,arguments)})):a.push(t.File.fromEntry(l))}r?o.readEntries(arguments.callee,n):i(0)},n),!0}},r.setNativeEntry=function(e){r.nativeEntry=e&&e.webkitGetAsEntry&&e.webkitGetAsEntry()},r.event=function(e,n){return t.appendEventsToObject.apply(r,arguments)},r.preview=function(e,n){return t.previewToObject.apply(r,arguments)},r.onXhrSend=function(e,t){e.send(t)},r.event({xhrSend:r.onXhrSend})},t.File.fromEntry=function(e){var n=new t.File(e);return n.setNativeEntry(e),n.nativeFile=null,n},t.jQuery=function(e){if(e=e||jQuery||window.jQuery,!e)throw"No window.jQuery object to integrate FileDrop into.";e.fn.filedrop=function(n){function r(e,n){return function(r){var o=(n||[]).concat(t.toArray(arguments,1));return i.triggerHandler((e+r).toLowerCase(),o)}}var i=this,o=this.data("filedrop");if("string"==typeof n)if(o){if("undefined"!=typeof o[n]){var a=o[n];return"function"==typeof a?a.apply(o,t.toArray(arguments,1)):a}e.error("There's no method or property FileDrop."+n+".")}else e.error("$.filedrop('comment') needs an initialized FilrDrop on this element.");else if(n&&"object"!=typeof n)e.error("Invalid $.filedrop() parameter - expected nothing (creates new zone), a string (property to access) or an object (custom zone options).");else if(o){if(!n)return o;t.extend(o.opt,n,!0)}else{var s=new FileDrop(this[0],n);s.$el=e(this),this.first().data("filedrop",s),s.event("any",r("fd")),s.on.fileSetup.push(function(e){e.event("any",r("file",[e]))})}return i}},n.FileDrop=t.FileDrop}(window.fd,window),$(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".image-link").magnificPopup({type:"image",gallery:{enabled:!0}}),$(".dropdown").dropdown()});